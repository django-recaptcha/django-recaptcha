
{# import recaptcha_ajax.js in your body  #}
{# <script type="text/javascript" src="http://www.google.com/recaptcha/api/js/recaptcha_ajax.js"></script> #}

<div id="Recap"></div>
<script type="text/javascript">
  function extend (target, source) {
    var a = Object.create(target);
    Object.keys(source).map(function (prop) {
      prop in a && (a[prop] = source[prop]);
    });
    return a;
  };

  var RecaptchaOptions = {{options}};
  Recaptcha.create("{{ public_key }}",
    "Recap",
    extend(RecaptchaOptions, {
      callback: Recaptcha.focus_response_field
    })
  );
</script>


{% comment %}
<noscript>
  <iframe src="{{api_server}}/noscript?k={{public_key}}{{error_param}}" height="300" width="500" frameborder="0"></iframe><br />
  <textarea name="recaptcha_challenge_field" rows="3" cols="40"></textarea>
  <input type='hidden' name='recaptcha_response_field' value='manual_challenge' />
</noscript>
{% endcomment %}
